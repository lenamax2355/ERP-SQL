


select poh.org_id,poh.segment1 PO,pol.LINE_NUM,pod.DISTRIBUTION_NUM,
pod.QUANTITY_ORDERED,pod.CREATION_DATE,pll.NEED_BY_DATE,pll.PROMISED_DATE,pll.SHIP_TO_ORGANIZATION_ID PO_Org, 
porh.segment1 PR,porl.LINE_NUM,pord.DISTRIBUTION_NUM,REQ_LINE_QUANTITY,porl.DESTINATION_ORGANIZATION_ID PR_org,
a.segment1 Item,a.description
from       
  apps.PO_REQ_DISTRIBUTIONS_all PORD
, apps.PO_REQUISITION_LINES_all PORL
, apps.PO_REQUISITION_HEADERS_all PORH
, apps.PO_HEADERS_all POH
, apps.PO_LINE_LOCATIONS_all PLL
, apps.PO_LINES_all POL
, apps.PO_DISTRIBUTIONS_all POD
, apps.mtl_system_items_b a 
WHERE 
POD.PO_HEADER_ID = POH.PO_HEADER_ID 
AND POD.PO_LINE_ID = POL.PO_LINE_ID 
AND POD.LINE_LOCATION_ID = PLL.LINE_LOCATION_ID 
AND POD.REQ_DISTRIBUTION_ID = PORD.DISTRIBUTION_ID (+) 
AND PORD.REQUISITION_LINE_ID = PORL.REQUISITION_LINE_ID (+) 
AND PORL.REQUISITION_HEADER_ID = PORH.REQUISITION_HEADER_ID (+) 
and poh.org_id=pol.org_id
and poh.org_id=pod.org_id
and poh.org_id=pll.org_id
and poh.org_id>=127
and porh.org_id=porl.org_id
and porh.org_id=pord.org_id
and porh.org_id=poh.org_id
and porh.segment1='6791'
and porl.DESTINATION_ORGANIZATION_ID=a.ORGANIZATION_ID 
and a.INVENTORY_ITEM_ID=porl.item_id



------------------

FROM 
PO_DOCUMENT_TYPES PDT
, PO_DOCUMENT_TYPES_ALL_B PDTB2
, PO_DOCUMENT_TYPES_ALL_TL PDTL2
, PO_LINE_TYPES_TL PLTT
, PO_REQ_DISTRIBUTIONS PORD
, PO_REQUISITION_LINES PORL
, PO_REQUISITION_HEADERS PORH
, PO_RELEASES POR, PO_HEADERS POH
, PO_LINE_LOCATIONS PLL
, PO_LINES POL
, PO_DISTRIBUTIONS POD 
WHERE 
POD.PO_HEADER_ID = POH.PO_HEADER_ID 
AND POD.PO_LINE_ID = POL.PO_LINE_ID 
AND POD.LINE_LOCATION_ID = PLL.LINE_LOCATION_ID 
AND POD.PO_RELEASE_ID = POR.PO_RELEASE_ID (+) 
AND POD.REQ_DISTRIBUTION_ID = PORD.DISTRIBUTION_ID (+) 
AND PORD.REQUISITION_LINE_ID = PORL.REQUISITION_LINE_ID (+) 
AND PORL.REQUISITION_HEADER_ID = PORH.REQUISITION_HEADER_ID (+) 
AND PDT.DOCUMENT_TYPE_CODE IN ('PO', 'PA') 
AND PDT.DOCUMENT_SUBTYPE = POH.TYPE_LOOKUP_CODE 
AND PDTB2.DOCUMENT_TYPE_CODE(+) = 'RELEASE' 
AND PDTB2.DOCUMENT_SUBTYPE(+) = POR.RELEASE_TYPE 
AND PDTB2.DOCUMENT_TYPE_CODE = PDTL2.DOCUMENT_TYPE_CODE(+) 
AND PDTB2.DOCUMENT_SUBTYPE = PDTL2.DOCUMENT_SUBTYPE(+) 
AND NVL(PDTB2.ORG_ID,-99) = NVL(PDTL2.ORG_ID,-99) 
AND NVL(PDTB2.ORG_ID,NVL(TO_NUMBER(DECODE(SUBSTRB(USERENV('CLIENT_INFO'),1,1), ' ', NULL,SUBSTRB(USERENV('CLIENT_INFO'),1,10))),-99)) = NVL (TO_NUMBER(DECODE(SUBSTRB(USERENV('CLIENT_INFO'),1,1),' ',NULL, SUBSTRB(USERENV('CLIENT_INFO'),1,10))),-99) 
AND PDTL2.LANGUAGE(+) = USERENV('LANG') 
AND PLL.SHIPMENT_TYPE != 'PRICE BREAK' 
AND PLTT.LINE_TYPE_ID (+) = POL.LINE_TYPE_ID AND PLTT.LANGUAGE(+) = USERENV('LANG');

