
Your Oracle Payables application places the invoice ID in the VOUCHNO column when you transfer an expense report to Payables Invoice

----------Status of Expense report
An Expense report not be import into AP Batch:
apps.AP_EXPENSE_REPORT_HEADERS_all.VOUCHNO =0

An Expense report has been import into AP Batch:
apps.AP_EXPENSE_REPORT_HEADERS_all.VOUCHNO <>0


AP_EXPENSE_REPORT_HEADERS_all.EXPENSE_REPORT_ID =Expense report template identifier



select b.EMPLOYEE_NUMBER,convert(b.LAST_NAME,'ZHS16GBK') LAST_NAME,a.TOTAL,a.INVOICE_NUM,a.DESCRIPTION,a.CREATION_DATE,a.DESCRIPTION,
a.REJECT_CODE,a.DEFAULT_CURRENCY_CODE,a.PAYMENT_CURRENCY_CODE,a.DEFAULT_EXCHANGE_RATE 
from apps.AP_EXPENSE_REPORT_HEADERS_all a,apps.PER_ALL_PEOPLE_F b
where a.EMPLOYEE_ID=b.PERSON_ID
and DEFAULT_CURRENCY_CODE<>a.PAYMENT_CURRENCY_CODE


select * from apps.AP_EXPENSE_REPORT_HEADERS_all where INVOICE_NUM ='19466A'--order by CREATION_DATE desc

select * from AP_EXPENSE_REPORTS_all where expense_report_id=10150

select * from AP_EXPENSE_REPORT_LINES where REPORT_HEADER_ID=96902

select * from AP_INVOICES_V where INVOICE_NUM='19466A'

select * from AP_INVOICE_DISTRIBUTIONS_V where invoice_id=376212



select * from apps.AP_EXPENSE_REPORT_HEADERS_all
where trunc(CREATION_DATE) = to_date('20040917','YYYYMMDD')
and INVOICE_NUM='198143'


If an report has problem,then 'REJECT_CODE' would has some thing

-------Find out Error Reason for an expense report
select REJECT_CODE from apps.AP_EXPENSE_REPORT_HEADERS_all 
where trunc(CREATION_DATE) = to_date('20040917','YYYYMMDD') and INVOICE_NUM='198143'



select * from AP_EXPENSE_REPORTS_all
where trunc(CREATION_DATE) = to_date('20040917','YYYYMMDD')









FROM AP_EXPENSE_REPORT_HEADERS AERH, 
PER_ALL_PEOPLE_F PAP, 
AP_AWT_GROUPS AAG, 
AP_EXPENSE_REPORTS AER, 
GL_DAILY_CONVERSION_TYPES GDCT, 
AP_LOOKUP_CODES ALC1, 
FINANCIALS_SYSTEM_PARAMETERS FSP 

WHERE AERH.EMPLOYEE_ID = PAP.PERSON_ID 
AND (TRUNC(SYSDATE) BETWEEN PAP.EFFECTIVE_START_DATE 
AND PAP.EFFECTIVE_END_DATE) 
AND PAP.BUSINESS_GROUP_ID = FSP.BUSINESS_GROUP_ID AND DECODE(HR_SECURITY.VIEW_ALL,'Y','TRUE',HR_SECURITY.SHOW_RECORD('PER_ALL_PEOPLE_F', PAP.PERSON_ID,PAP.PERSON_TYPE_ID,PAP.EMPLOYEE_NUMBER,PAP.APPLICANT_NUMBER)) = 'TRUE' AND AERH.AWT_GROUP_ID = AAG.GROUP_ID(+) AND AERH.EXPENSE_REPORT_ID = AER.EXPENSE_REPORT_ID(+) AND AERH.DEFAULT_EXCHANGE_RATE_TYPE = GDCT.CONVERSION_TYPE(+) AND AERH.HOLD_LOOKUP_CODE = ALC1.LOOKUP_CODE(+) AND ALC1.LOOKUP_TYPE(+) = 'HOLD CODE';


