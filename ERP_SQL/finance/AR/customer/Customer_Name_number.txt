


select CUSTOMER_NAME,CUSTOMER_NUMBER from apps.ar_customers_v




-----List (Bill_to_Site) Customer ID,Site_ID, Location by its number

select a.CUSTOMER_NUMBER,a.CUSTOMER_ID,c.CUST_ACCOUNT_ID,f.SITE_USE_id,c.CUST_ACCT_SITE_ID,convert(a.CUSTOMER_NAME,'ZHS16GBK') as Name
,f.SITE_USE_CODE ,f.LOCATION
from apps.AR_CUSTOMERS_V a ,apps.HZ_CUST_ACCT_SITES_ALL  c,apps.HZ_CUST_SITE_USES_all f
where a.CUSTOMER_ID=c.CUST_ACCOUNT_ID
and c.CUST_ACCT_SITE_ID=f.CUST_ACCT_SITE_ID
and f.SITE_USE_CODE='BILL_TO'
and CUSTOMER_NUMBER='1139'




-----------Find Customer Ship_To Tax Code / Bill_To Rec_Acc (For Customer File's Finance Info check)

-----Add Org & Status, Finialize all kinds of Sites

CREATE OR REPLACE VIEW BMC_AR_CUSROMER_CHK
AS 
select c.ORG_ID,a.CUSTOMER_NAME,LOC.ADDRESS1||' '||LOC.CITY||' '||LOC.POSTAL_CODE||' '||LOC.COUNTRY Address,
a.CUSTOMER_NUMBER,PARTY_SITE.PARTY_SITE_NUMBER Site_Number
,b.SITE_USE_CODE ,b.LOCATION Site_ID,b.TAX_CODE,e.LOCATION Bill_To_Site
,segment3 as Receivable_Acc,a.STATUS,b.PRIMARY_FLAG,LOC.COUNTRY,LOC.ADDRESS1
from apps.AR_CUSTOMERS_V  a
,apps.HZ_CUST_SITE_USES_all b
,apps.HZ_CUST_ACCT_SITES_ALL  c
,apps.GL_CODE_combinations d
,apps.HZ_CUST_SITE_USES_all e,
apps.HZ_PARTY_SITES PARTY_SITE, 
apps.HZ_LOCATIONS LOC 
where a.CUSTOMER_ID=c.CUST_ACCOUNT_ID
and c.CUST_ACCT_SITE_ID=b.CUST_ACCT_SITE_ID
and b.GL_ID_REC=d.CODE_COMBINATION_ID(+)
and b.ORG_ID=c.ORG_ID
and b.ORG_ID=e.ORG_ID(+)
and b.BILL_TO_SITE_USE_ID=e.site_use_id(+)
AND c.PARTY_SITE_ID = PARTY_SITE.PARTY_SITE_ID 
AND LOC.LOCATION_ID = PARTY_SITE.LOCATION_ID 
--and a.CUSTOMER_NUMBER='3126'
--and b.TAX_CODE is null
order by c.ORG_ID,a.CUSTOMER_NAME,PARTY_SITE.PARTY_SITE_NUMBER

