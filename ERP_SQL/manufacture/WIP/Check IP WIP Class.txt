
--------------new ??? not complete
select 
a.CLASS_CODE,a.DESCRIPTION,upper(substr(a.DESCRIPTION,1,instr(a.DESCRIPTION,' ')-1)) Description_Cut,
upper(substr(k.DESCRIPTION,1,instr(k.DESCRIPTION,'/')-1)) flex_cut,
k.DESCRIPTION,k.FLEX_VALUE Prj_Code,
b.segment5 MATERIAL_ACCOUNT_Prj,
c.segment5 MATERIAL_VARIANCE_ACCOUNT_Prj,
d.segment5 MATERIAL_OVERHEAD_ACCOUNT_Prj,
e.segment5 RESOURCE_ACCOUNT_Prj,
f.segment5 RESOURCE_VARIANCE_ACCOUNT_Prj,
g.segment5 OUTSIDE_PROCESSING_ACCOUNT_Prj,
h.segment5 OUTSIDE_VARIANCE_ACCOUNT_Prj,
i.segment5 OVERHEAD_ACCOUNT_Prj,
j.segment5 OVERHEAD_VARIANCE_ACCOUNT_Prj,
b.segment3 MATERIAL_ACCOUNT_ACC,
c.segment3 MATERIAL_VARIANCE_ACCOUNT_ACC,
d.segment3 MATERIAL_OVERHEAD_ACCOUNT_ACC,
e.segment3 RESOURCE_ACCOUNT_ACC,
f.segment3 RESOURCE_VARIANCE_ACCOUNT_ACC,
g.segment3 OUTSIDE_PROCESSING_ACCOUNT_ACC,
h.segment3 OUTSIDE_VARIANCE_ACCOUNT_ACC,
i.segment3 OVERHEAD_ACCOUNT_ACC,
j.segment3 OVERHEAD_VARIANCE_ACCOUNT_ACC,
a.ORGANIZATION_ID,a.CREATION_DATE,c.CODE_COMBINATION_ID
from apps.WIP_ACCOUNTING_CLASSES a,apps.GL_CODE_COMBINATIONS b,
apps.GL_CODE_COMBINATIONS c,apps.GL_CODE_COMBINATIONS d,apps.GL_CODE_COMBINATIONS e,apps.GL_CODE_COMBINATIONS f,
apps.GL_CODE_COMBINATIONS g,apps.GL_CODE_COMBINATIONS h,apps.GL_CODE_COMBINATIONS i,apps.GL_CODE_COMBINATIONS j,
apps.FND_FLEX_VALUES_VL k,apps.FND_FLEX_VALUES_VL l,apps.FND_FLEX_VALUES_VL m,apps.FND_FLEX_VALUES_VL n,
apps.FND_FLEX_VALUES_VL o,apps.FND_FLEX_VALUES_VL p,apps.FND_FLEX_VALUES_VL q,apps.FND_FLEX_VALUES_VL r,
apps.FND_FLEX_VALUES_VL s
where a.MATERIAL_ACCOUNT=b.CODE_COMBINATION_ID
and a.MATERIAL_VARIANCE_ACCOUNT=c.CODE_COMBINATION_ID
and a.MATERIAL_OVERHEAD_ACCOUNT=d.CODE_COMBINATION_ID
and a.RESOURCE_ACCOUNT=e.CODE_COMBINATION_ID
and a.RESOURCE_VARIANCE_ACCOUNT=f.CODE_COMBINATION_ID
and a.OUTSIDE_PROCESSING_ACCOUNT=g.CODE_COMBINATION_ID
and a.OUTSIDE_PROC_VARIANCE_ACCOUNT=h.CODE_COMBINATION_ID
and a.OVERHEAD_ACCOUNT=i.CODE_COMBINATION_ID
and a.OVERHEAD_VARIANCE_ACCOUNT=j.CODE_COMBINATION_ID
and a.ORGANIZATION_ID=132
and b.segment5=k.FLEX_VALUE
and c.segment5=l.FLEX_VALUE
and d.segment5=m.FLEX_VALUE
and e.segment5=n.FLEX_VALUE
and f.segment5=o.FLEX_VALUE
and g.segment5=p.FLEX_VALUE
and h.segment5=q.FLEX_VALUE
and i.segment5=r.FLEX_VALUE
and j.segment5=s.FLEX_VALUE
and k.FLEX_VALUE_SET_ID=1007643
and l.FLEX_VALUE_SET_ID=1007643
and m.FLEX_VALUE_SET_ID=1007643
and n.FLEX_VALUE_SET_ID=1007643
and o.FLEX_VALUE_SET_ID=1007643
and p.FLEX_VALUE_SET_ID=1007643
and q.FLEX_VALUE_SET_ID=1007643
and r.FLEX_VALUE_SET_ID=1007643
and s.FLEX_VALUE_SET_ID=1007643
--and a.CLASS_CODE='Joesphine'
--and substr(a.DESCRIPTION,1,instr(a.DESCRIPTION,' ')-1)<>k.DESCRIPTION -----check Prj Code by Description same with Class's cut off ' Class'
and ( upper(a.CLASS_CODE)<>upper(substr(k.DESCRIPTION,1,(CASE INSTRB(k.DESCRIPTION,'( ',1)
WHEN 0 THEN NULL
ELSE    SUBSTRB(
'ABCEEWFFF( BBBBBBBBBBBBBBBBBBBBB',
1,
INSTRB('ABCEEWFFF( BBBBBBBBBBBBBBBBBBBBB','( ',1)-1
)
END
)
||
(CASE  INSTRB('ABCEEWFFF( BBBBBBBBBBBBBBBBBBBBB','/ ',1)
WHEN 0 THEN 'AAA'
ELSE    'BBBB'
END
)
||
(CASE  INSTRB('ABCEEWFFF( BBBBBBBBBBBBBBBBBBBBB','# ',1)
WHEN 0 THEN 'AAA'
ELSE    'BBBB'
END
)
-1)) 
    -----check Prj Code by Description same with Class's cut off ' Class'
    or k.DESCRIPTION<>l.DESCRIPTION
    or k.DESCRIPTION<>m.DESCRIPTION -----check Prj Code by Description same or not
    or k.DESCRIPTION<>n.DESCRIPTION      
    or k.DESCRIPTION<>o.DESCRIPTION
    or k.DESCRIPTION<>p.DESCRIPTION
    or k.DESCRIPTION<>q.DESCRIPTION
    or k.DESCRIPTION<>r.DESCRIPTION
    or k.DESCRIPTION<>s.DESCRIPTION
or  b.segment3<>'410201' ---check account code correct
or  c.segment3<>'410211'
or  d.segment3<>'410201'
or  e.segment3<>'410205'
or  f.segment3<>'410215'
or  g.segment3<>'410204'
or  h.segment3<>'410214'
or  i.segment3<>'410203'
or  j.segment3<>'410213'
)

and a.CLASS_CODE='Vulcan'

-------------Check Accounts/Prj setup of IP Job Class- the Prj Code in each Account are same

select 
a.CLASS_CODE,k.DESCRIPTION,k.FLEX_VALUE Prj_Code,
b.segment5 MATERIAL_ACCOUNT_Prj,
c.segment5 MATERIAL_VARIANCE_ACCOUNT_Prj,
d.segment5 MATERIAL_OVERHEAD_ACCOUNT_Prj,
e.segment5 RESOURCE_ACCOUNT_Prj,
f.segment5 RESOURCE_VARIANCE_ACCOUNT_Prj,
g.segment5 OUTSIDE_PROCESSING_ACCOUNT_Prj,
h.segment5 OUTSIDE_VARIANCE_ACCOUNT_Prj,
i.segment5 OVERHEAD_ACCOUNT_Prj,
j.segment5 OVERHEAD_VARIANCE_ACCOUNT_Prj,
b.segment3 MATERIAL_ACCOUNT_ACC,
c.segment3 MATERIAL_VARIANCE_ACCOUNT_ACC,
d.segment3 MATERIAL_OVERHEAD_ACCOUNT_ACC,
e.segment3 RESOURCE_ACCOUNT_ACC,
f.segment3 RESOURCE_VARIANCE_ACCOUNT_ACC,
g.segment3 OUTSIDE_PROCESSING_ACCOUNT_ACC,
h.segment3 OUTSIDE_VARIANCE_ACCOUNT_ACC,
i.segment3 OVERHEAD_ACCOUNT_ACC,
j.segment3 OVERHEAD_VARIANCE_ACCOUNT_ACC,
a.ORGANIZATION_ID,a.CREATION_DATE,c.CODE_COMBINATION_ID
from apps.WIP_ACCOUNTING_CLASSES a,apps.GL_CODE_COMBINATIONS b,
apps.GL_CODE_COMBINATIONS c,apps.GL_CODE_COMBINATIONS d,apps.GL_CODE_COMBINATIONS e,apps.GL_CODE_COMBINATIONS f,
apps.GL_CODE_COMBINATIONS g,apps.GL_CODE_COMBINATIONS h,apps.GL_CODE_COMBINATIONS i,apps.GL_CODE_COMBINATIONS j,
apps.FND_FLEX_VALUES_VL k,apps.FND_FLEX_VALUES_VL l,apps.FND_FLEX_VALUES_VL m,apps.FND_FLEX_VALUES_VL n,
apps.FND_FLEX_VALUES_VL o,apps.FND_FLEX_VALUES_VL p,apps.FND_FLEX_VALUES_VL q,apps.FND_FLEX_VALUES_VL r,
apps.FND_FLEX_VALUES_VL s
where a.MATERIAL_ACCOUNT=b.CODE_COMBINATION_ID
and a.MATERIAL_VARIANCE_ACCOUNT=c.CODE_COMBINATION_ID
and a.MATERIAL_OVERHEAD_ACCOUNT=d.CODE_COMBINATION_ID
and a.RESOURCE_ACCOUNT=e.CODE_COMBINATION_ID
and a.RESOURCE_VARIANCE_ACCOUNT=f.CODE_COMBINATION_ID
and a.OUTSIDE_PROCESSING_ACCOUNT=g.CODE_COMBINATION_ID
and a.OUTSIDE_PROC_VARIANCE_ACCOUNT=h.CODE_COMBINATION_ID
and a.OVERHEAD_ACCOUNT=i.CODE_COMBINATION_ID
and a.OVERHEAD_VARIANCE_ACCOUNT=j.CODE_COMBINATION_ID
and a.ORGANIZATION_ID=132
and b.segment5=k.FLEX_VALUE
and c.segment5=l.FLEX_VALUE
and d.segment5=m.FLEX_VALUE
and e.segment5=n.FLEX_VALUE
and f.segment5=o.FLEX_VALUE
and g.segment5=p.FLEX_VALUE
and h.segment5=q.FLEX_VALUE
and i.segment5=r.FLEX_VALUE
and j.segment5=s.FLEX_VALUE
and k.FLEX_VALUE_SET_ID=1007643
and l.FLEX_VALUE_SET_ID=1007643
and m.FLEX_VALUE_SET_ID=1007643
and n.FLEX_VALUE_SET_ID=1007643
and o.FLEX_VALUE_SET_ID=1007643
and p.FLEX_VALUE_SET_ID=1007643
and q.FLEX_VALUE_SET_ID=1007643
and r.FLEX_VALUE_SET_ID=1007643
and s.FLEX_VALUE_SET_ID=1007643
and (k.DESCRIPTION<>l.DESCRIPTION
    or k.DESCRIPTION<>m.DESCRIPTION -----check Prj Code by Description same or not
    or k.DESCRIPTION<>n.DESCRIPTION      
    or k.DESCRIPTION<>o.DESCRIPTION
    or k.DESCRIPTION<>p.DESCRIPTION
    or k.DESCRIPTION<>q.DESCRIPTION
    or k.DESCRIPTION<>r.DESCRIPTION
    or k.DESCRIPTION<>s.DESCRIPTION
or  b.segment3<>'410201' ---check account code correct
or  c.segment3<>'410211'
or  d.segment3<>'410201'
or  e.segment3<>'410205'
or  f.segment3<>'410215'
or  g.segment3<>'410204'
or  h.segment3<>'410214'
or  i.segment3<>'410203'
or  j.segment3<>'410213'
)
